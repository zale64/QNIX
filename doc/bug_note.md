# 关于保护模式下，堆栈段描述符的问题
>堆栈段描述符`type`字段需要注意\
如果使用向下扩展的属性，即`type=6`时，堆栈的有效使用范围`limit ~ 0xffff`\
所以一般情况下最好将`limit`设置为0，避免出错\
此时的`esp`就可以随便设置了

>对`.o`程序进行链接时需要注意顺序，包含入口地址`_start`的文件必须是第一个，否则程序无法正常运行

# 关于内联汇编
> - 内联汇编中只可以操作通用寄存器，不能操作`cr0 cr1 esp eflagsa...`等寄存器 
> - `mov`与`movl`作用一样，内联汇编默认使用`AT&T`汇编
> - 普通内联汇编中，寄存器的表示方式为`%eax %ebx %ecx ...`
> - 扩展内联汇编中，寄存器的表示方式为`%%eax %%ebx %%ecx ...`
> - 当有多条汇编语句时，每一条汇编语句后都加上`\n`，并且每条语句都需要用`""`双引号包括起来
### 普通内联汇编
```c
    asm volatile(
        "mov $0x80, %eax\n"
        "mov %eax, %ebx\n"
        "mov %ebx, %ecx\n"
    );
```
### 扩展内联汇编
```c
    asm volatile(
        "mov %%eax, %1\n"
        "mov %%ecx, %2\n"
        "mov %0, %%edx\n"
        :"=a"(res)  // output
        :"a"(a_value), "b"(b_value), "c"(c_value) // input
    );
    // 其中`input`的`a b c`是寄存器`eax ebx ecx`的缩写
    // 可以使用'r`替代`a b c`不指定使用哪个寄存器，让编译器自行选择
```
